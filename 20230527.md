# 1. Stone Game III https://leetcode.com/problems/stone-game-iii

Solution

- DP : O(n) & S(n)

Code

- Java

```java

```

- Python

```python
class Solution:
    def stoneGameIII(self, stoneValue: List[int]) -> str:
        self.n = len(stoneValue)
        self.stoneValue = stoneValue
        self.dp = [[-1 for _ in range(self.n + 1)] for _ in range(2)] # dp[p][i] is the return value of self.dpCore(p, i)
        alice = self.dpCore(0, 0)
        bob = sum(stoneValue) - alice
        if alice == bob:
            return 'Tie'
        elif alice > bob:
            return 'Alice'
        else:
            return 'Bob'

    def dpCore(self, p, i):
        # return the maximum score Alice can make given stoneValue[i:] and now it is Alice's/Bob's (0/1) turn
        if i >= self.n:
            return 0
        if self.dp[p][i] != -1:
            return self.dp[p][i]
        res = float('-inf') if p == 0 else float('inf')
        curScore = 0
        for x in range(1, min(4, self.n - i + 1)):
            curScore += self.stoneValue[i + x - 1]
            if p == 0:
                res = max(res, curScore + self.dpCore(1, i + x))
            else:
                res = min(res, self.dpCore(0, i + x))
        self.dp[p][i] = res
        return res
```
